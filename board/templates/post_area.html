<h2>{{ area3 }} ê²Œì‹œíŒ</h2>

<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „ì²´ ê²Œì‹œíŒ</title>
    <div class="container">
        <a href="{% url 'board:area_set' %}">ì§€ì—­ ì„¤ì •</a>
        <br><br>
        <form method="post" action="{% url 'board:area_search' area %}">
            {% csrf_token %}        
            <input type="search" placeholder="ê¸€ ì œëª©, ë‚´ìš©" name="searched" aria-label="Search">
            <button type="submit">ê²€ìƒ‰</button>
        </form>

        {% for post in hot_posts %}
        <div>
            <h5>Q&A</h5>
            {{ post.subject }}<br>ğŸ‘ï¸{{ post.hits }} ğŸ—’ï¸{{ post.answer_set.count }}
        </div>
        {% endfor %}
        <br><br><br>

        <br>
        <!-- <a href="{% url 'board:post_create' area %}" class="btn btn-primary">ê¸€ ì‘ì„±</a> -->

        <div>
            <select class="so">
                <option value="recent" {% if so == 'recent' %} selected {% endif %}>ìµœì‹ ìˆœ</option>
                <option value="hit" {% if so == 'hit' %} selected {% endif %} >ì¡°íšŒìˆ˜</option>
                <option value="answer" {% if so == 'answer' %} selected {% endif %}>ëŒ“ê¸€ìˆœ</option>
            </select>
        </div>
        <form id="sortForm" method="get" action="{% url 'board:board_area' area %}">
            <input type="hidden" id="so" name="so" value="{{ so }}">
        </form>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ì œëª©</a></th>
                    <th>ì‘ì„±ì¼</th>
                    <th>ì¡°íšŒìˆ˜</th>
                    <th>ì¢‹ì•„ìš”</th>
                    <th>ì§€ì—­</th>
                    <th>ë‚´ìš©</th>
                </tr>
            </thead>
            <tbody>
                {% for post in post_list %}
                <tr>
                    <td><a href="{% url 'board:post_detail' post.id%}">{{ post.subject }}</a>
                        {% if post.answer_set.count > 0 %}
                        <span>({{ post.answer_set.count }})</span>
                        {% else %}
                        <span>(0)</span>
                        {% endif %}
                    </td>
                    <td>{{ post.create_date|date:"Y-m-d" }}</td>
                    <td>{{ post.hits }}</td>
                    <td>{{ post.likes }}</td>
                    <td>{{ post.area }}</td>
                    <td>{{ post.content }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6">ë“±ë¡ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% with area=area|default:None %}
        {% include "navbar.html" %}
    {% endwith %}
    </body>
</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        $(".so").on('change', function(){
            $("#so").val($(this).val());
            $("#sortForm").submit()
        });
    })
</script>